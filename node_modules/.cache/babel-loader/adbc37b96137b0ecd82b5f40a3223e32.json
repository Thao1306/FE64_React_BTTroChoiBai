{"ast":null,"code":"var _jsxFileName = \"D:\\\\KA\\\\HOC HANH\\\\H\\u1ECCC L\\u1EACP TR\\xCCNH 2021\\\\FRONTEND64_20.03-27.09.2021\\\\Buoi33_17.07.2021_React-function\\\\Tro-choi-bai\\\\src\\\\pages\\\\Game\\\\index.jsx\";\nimport React, { Fragment, useEffect, memo } from \"react\";\nimport \"./index.css\";\nimport Controls from \"../../components/Control\";\nimport Main from \"../../components/Main\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getDeckCard } from \"../../redux/actions/cards\";\n\nconst Game = () => {\n  // const [a, setA] = useState(0);\n  //useEffect đại diện cho cả 3 loại lifecycle như trong class: didMount, didUpdate, willUpdate\n  //memo tương tự như pure component trong class (memo sẽ check điều kiện khi nào Game cần render lại thì mới render, tức nêu cha ko có truyền prop cho con/prop ko đổi khi cha render thì memo sẽ xét điều kiện ko ảnh hưởng đến con => con sẽ ko bị render lại)\n  //component didMount, unMounted\n  // useEffect(() => {\n  //   console.log(\"component didMount\");\n  //   return () => {\n  //     console.log(\"component unMounted\"); //phải set trong useEffect có dependency là mảng [], sẽ chạy khi component bị hủy\n  //   };\n  // }, []);\n  //component didUpdated\n  // useEffect(() => {\n  //   console.log(\"component didUpdated\");\n  // }, [a]);\n  //luôn chạy\n  // useEffect(() => {\n  //   console.log(\"always run\");\n  // });\n  //--------------\n  const dispatch = useDispatch();\n  const {\n    player,\n    card\n  } = useSelector(state => state);\n  useEffect(() => {\n    getDeckCard(dispatch);\n  }, []);\n  const winner = player.playerList.reduce((maxPoint, currPlayer) => {\n    if (maxPoint.totalPoint > currPlayer.totalPoint) {\n      return maxPoint;\n    } else {\n      return currPlayer;\n    }\n  });\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, card.game > 2 ? /*#__PURE__*/React.createElement(\"div\", {\n    class: \"modal fade\",\n    id: \"staticBackdrop\",\n    \"data-backdrop\": \"static\",\n    \"data-keyboard\": \"false\",\n    tabindex: \"-1\",\n    \"aria-labelledby\": \"staticBackdropLabel\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"modal-dialog\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"modal-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"modal-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    class: \"modal-title\",\n    id: \"staticBackdropLabel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, \"Ch\\xFAc m\\u1EEBng\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"modal-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }, \"Ng\\u01B0\\u1EDDi th\\u1EAFng cu\\u1ED9c l\\xE0 \", winner.username), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"modal-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary\",\n    \"data-dismiss\": \"modal\",\n    onClick: window.location.reload(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, \"Close\"))))) : /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Controls, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Main, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  })));\n};\n\nexport default Game; // export default memo(Game); //giống pure component trong react class ->bọc các component con ko bị render lại khi component cha render lại trong trường hợp con ko bị ảnh hưởng/hoặc các props cha truyền cho con ko ảnh hưởng","map":{"version":3,"sources":["D:/KA/HOC HANH/HỌC LẬP TRÌNH 2021/FRONTEND64_20.03-27.09.2021/Buoi33_17.07.2021_React-function/Tro-choi-bai/src/pages/Game/index.jsx"],"names":["React","Fragment","useEffect","memo","Controls","Main","useDispatch","useSelector","getDeckCard","Game","dispatch","player","card","state","winner","playerList","reduce","maxPoint","currPlayer","totalPoint","game","username","window","location","reload"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,IAArC,QAAiD,OAAjD;AACA,OAAO,aAAP;AACA,OAAOC,QAAP,MAAqB,0BAArB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,WAAT,QAA4B,2BAA5B;;AAEA,MAAMC,IAAI,GAAG,MAAM;AACjB;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA,QAAMC,QAAQ,GAAGJ,WAAW,EAA5B;AACA,QAAM;AAAEK,IAAAA,MAAF;AAAUC,IAAAA;AAAV,MAAmBL,WAAW,CAAEM,KAAD,IAAWA,KAAZ,CAApC;AAEAX,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,WAAW,CAACE,QAAD,CAAX;AACD,GAFQ,EAEN,EAFM,CAAT;AAIA,QAAMI,MAAM,GAAGH,MAAM,CAACI,UAAP,CAAkBC,MAAlB,CAAyB,CAACC,QAAD,EAAWC,UAAX,KAA0B;AAChE,QAAID,QAAQ,CAACE,UAAT,GAAsBD,UAAU,CAACC,UAArC,EAAiD;AAC/C,aAAOF,QAAP;AACD,KAFD,MAEO;AACL,aAAOC,UAAP;AACD;AACF,GANc,CAAf;AAQA,sBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGN,IAAI,CAACQ,IAAL,GAAY,CAAZ,gBACC;AACE,IAAA,KAAK,EAAC,YADR;AAEE,IAAA,EAAE,EAAC,gBAFL;AAGE,qBAAc,QAHhB;AAIE,qBAAc,OAJhB;AAKE,IAAA,QAAQ,EAAC,IALX;AAME,uBAAgB,qBANlB;AAOE,mBAAY,MAPd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBASE;AAAK,IAAA,KAAK,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,KAAK,EAAC,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,KAAK,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,KAAK,EAAC,aAAV;AAAwB,IAAA,EAAE,EAAC,qBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,CADF,eAME;AAAK,IAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDACuBN,MAAM,CAACO,QAD9B,CANF,eASE;AAAK,IAAA,KAAK,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,KAAK,EAAC,mBAFR;AAGE,oBAAa,OAHf;AAIE,IAAA,OAAO,EAAEC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,CATF,CADF,CATF,CADD,gBAkCC,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAnCJ,CADF;AA2CD,CAjFD;;AAmFA,eAAef,IAAf,C,CACA","sourcesContent":["import React, { Fragment, useEffect, memo } from \"react\";\r\nimport \"./index.css\";\r\nimport Controls from \"../../components/Control\";\r\nimport Main from \"../../components/Main\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getDeckCard } from \"../../redux/actions/cards\";\r\n\r\nconst Game = () => {\r\n  // const [a, setA] = useState(0);\r\n  //useEffect đại diện cho cả 3 loại lifecycle như trong class: didMount, didUpdate, willUpdate\r\n  //memo tương tự như pure component trong class (memo sẽ check điều kiện khi nào Game cần render lại thì mới render, tức nêu cha ko có truyền prop cho con/prop ko đổi khi cha render thì memo sẽ xét điều kiện ko ảnh hưởng đến con => con sẽ ko bị render lại)\r\n\r\n  //component didMount, unMounted\r\n  // useEffect(() => {\r\n  //   console.log(\"component didMount\");\r\n  //   return () => {\r\n  //     console.log(\"component unMounted\"); //phải set trong useEffect có dependency là mảng [], sẽ chạy khi component bị hủy\r\n  //   };\r\n  // }, []);\r\n  //component didUpdated\r\n  // useEffect(() => {\r\n  //   console.log(\"component didUpdated\");\r\n  // }, [a]);\r\n\r\n  //luôn chạy\r\n  // useEffect(() => {\r\n  //   console.log(\"always run\");\r\n  // });\r\n  //--------------\r\n\r\n  const dispatch = useDispatch();\r\n  const { player, card } = useSelector((state) => state);\r\n\r\n  useEffect(() => {\r\n    getDeckCard(dispatch);\r\n  }, []);\r\n\r\n  const winner = player.playerList.reduce((maxPoint, currPlayer) => {\r\n    if (maxPoint.totalPoint > currPlayer.totalPoint) {\r\n      return maxPoint;\r\n    } else {\r\n      return currPlayer;\r\n    }\r\n  });\r\n\r\n  return (\r\n    <Fragment>\r\n      {card.game > 2 ? (\r\n        <div\r\n          class=\"modal fade\"\r\n          id=\"staticBackdrop\"\r\n          data-backdrop=\"static\"\r\n          data-keyboard=\"false\"\r\n          tabindex=\"-1\"\r\n          aria-labelledby=\"staticBackdropLabel\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <div class=\"modal-dialog\">\r\n            <div class=\"modal-content\">\r\n              <div class=\"modal-header\">\r\n                <h5 class=\"modal-title\" id=\"staticBackdropLabel\">\r\n                  Chúc mừng\r\n                </h5>\r\n              </div>\r\n              <div class=\"modal-body\">\r\n                Người thắng cuộc là {winner.username}\r\n              </div>\r\n              <div class=\"modal-footer\">\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-secondary\"\r\n                  data-dismiss=\"modal\"\r\n                  onClick={window.location.reload()}\r\n                >\r\n                  Close\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <Fragment>\r\n          <Controls />\r\n          <Main />\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Game;\r\n// export default memo(Game); //giống pure component trong react class ->bọc các component con ko bị render lại khi component cha render lại trong trường hợp con ko bị ảnh hưởng/hoặc các props cha truyền cho con ko ảnh hưởng\r\n"]},"metadata":{},"sourceType":"module"}