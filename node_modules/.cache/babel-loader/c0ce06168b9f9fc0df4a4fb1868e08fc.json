{"ast":null,"code":"var _jsxFileName = \"D:\\\\KA\\\\HOC HANH\\\\H\\u1ECCC L\\u1EACP TR\\xCCNH 2021\\\\FRONTEND64_20.03-27.09.2021\\\\Buoi33_17.07.2021_React-function\\\\Tro-choi-bai\\\\src\\\\components\\\\Control\\\\index.jsx\";\nimport React, { useCallback, useState } from \"react\";\nimport axios from \"axios\";\nimport { useDispatch, useSelector, useStore } from \"react-redux\";\n\nconst Control = () => {\n  const deckCard = useSelector(state => {\n    return state.card.deckCard;\n  });\n  const playList = useSelector(state => {\n    return state.player.playerList;\n  });\n  const dispatch = useDispatch();\n  const drawCards = useCallback(() => {\n    axios({\n      method: \"GET\",\n      url: `http://deckofcardsapi.com/api/deck/${deckCard.deck_id}/draw/?count=12`\n    }).then(res => {\n      const players = [...playList];\n      console.log(players); //chia bài\n\n      for (const i in res.data.cards) {\n        const playerIndex = i % 4;\n        players[playerIndex].card.push(res.data.cards[i]); //i = 0, playerIndex = 0 => card[0] => player[0]\n        //i = 1, playerIndex = 1 => card[1] => player[1]\n        //i = 2, playerIndex = 2 => card[2] => player[2]\n        //i = 3, playerIndex = 3 => card[3] => player[3]\n        //i = 4, playerIndex = 0 => card[4] => player[0]\n        //i = 5, playerIndex = 1 => card[5] => player[1]\n        //i = 6, playerIndex = 2 => card[6] => player[2]\n\n        console.log(player);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [deckCard, playList]); //Hàm useStore dùng để lấy dữ liệu về dùng mà ko thay đổi như useSelector\n  // const store = useStore();\n  // store.getState()\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex  justify-content-end container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"border d-flex justify-content-center align-items-center px-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-success mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, \"Shuffle\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-info mr-2\",\n    onClick: drawCards,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, \"Draw\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"Reveal\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"border px-3 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, \"Player 1\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \" 0 \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"border px-3 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, \"Player 2\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, \" 0 \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"border px-3 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, \"Player 3\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, \" 0 \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"border px-3 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, \" T\\xEAn m\\xECnh \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, \" 0 \"))));\n};\n\nexport default Control;","map":{"version":3,"sources":["D:/KA/HOC HANH/HỌC LẬP TRÌNH 2021/FRONTEND64_20.03-27.09.2021/Buoi33_17.07.2021_React-function/Tro-choi-bai/src/components/Control/index.jsx"],"names":["React","useCallback","useState","axios","useDispatch","useSelector","useStore","Control","deckCard","state","card","playList","player","playerList","dispatch","drawCards","method","url","deck_id","then","res","players","console","log","i","data","cards","playerIndex","push","catch","err"],"mappings":"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","sourcesContent":["import React, { useCallback, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useDispatch, useSelector, useStore } from \"react-redux\";\r\n\r\nconst Control = () => {\r\n  const deckCard = useSelector((state) => {\r\n    return state.card.deckCard;\r\n  });\r\n  const playList = useSelector((state) => {\r\n    return state.player.playerList;\r\n  });\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const drawCards = useCallback(() => {\r\n    axios({\r\n      method: \"GET\",\r\n      url: `http://deckofcardsapi.com/api/deck/${deckCard.deck_id}/draw/?count=12`,\r\n    })\r\n      .then((res) => {\r\n        const players = [...playList];\r\n        console.log(players);\r\n        //chia bài\r\n        for (const i in res.data.cards) {\r\n          const playerIndex = i % 4;\r\n          players[playerIndex].card.push(res.data.cards[i]);\r\n\r\n          //i = 0, playerIndex = 0 => card[0] => player[0]\r\n          //i = 1, playerIndex = 1 => card[1] => player[1]\r\n          //i = 2, playerIndex = 2 => card[2] => player[2]\r\n          //i = 3, playerIndex = 3 => card[3] => player[3]\r\n          //i = 4, playerIndex = 0 => card[4] => player[0]\r\n          //i = 5, playerIndex = 1 => card[5] => player[1]\r\n          //i = 6, playerIndex = 2 => card[6] => player[2]\r\n          console.log(player);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [deckCard, playList]);\r\n\r\n  //Hàm useStore dùng để lấy dữ liệu về dùng mà ko thay đổi như useSelector\r\n  // const store = useStore();\r\n  // store.getState()\r\n\r\n  return (\r\n    <div className=\"d-flex  justify-content-end container\">\r\n      <div className=\"border d-flex justify-content-center align-items-center px-2\">\r\n        <button className=\"btn btn-success mr-2\">Shuffle</button>\r\n        <button className=\"btn btn-info mr-2\" onClick={drawCards}>\r\n          Draw\r\n        </button>\r\n        <button className=\"btn btn-primary mr-2\">Reveal</button>\r\n      </div>\r\n      <div className=\"d-flex\">\r\n        <div className=\"border px-3 text-center\">\r\n          <p>Player 1</p>\r\n          <p> 0 </p>\r\n        </div>\r\n        <div className=\"border px-3 text-center\">\r\n          <p>Player 2</p>\r\n          <p> 0 </p>\r\n        </div>\r\n        <div className=\"border px-3 text-center\">\r\n          <p>Player 3</p>\r\n          <p> 0 </p>\r\n        </div>\r\n        <div className=\"border px-3 text-center\">\r\n          <p> Tên mình </p>\r\n          <p> 0 </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Control;\r\n"]},"metadata":{},"sourceType":"module"}